<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>المركز الرئيسي لإدارة البطاقات</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-900 text-white p-8">
    <h1 class="text-2xl font-bold mb-6 text-blue-400">لوحة تحكم الأكواد المركزية (GitHub)</h1>
    
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        <div class="bg-slate-800 p-6 rounded-xl shadow-xl border border-slate-700">
            <h2 class="text-lg mb-4">إضافة بطاقة جديدة للمخزن</h2>
            <input id="cardCode" type="text" placeholder="أدخل كود البطاقة" class="w-full p-3 bg-slate-700 rounded mb-4 text-white">
            <button onclick="addCard()" class="w-full bg-blue-600 p-3 rounded font-bold hover:bg-blue-500">حفظ في المركز الرئيسي</button>
        </div>

        <div class="bg-slate-800 p-6 rounded-xl shadow-xl border border-slate-700">
            <h2 class="text-lg mb-4">حالة المتجر (WordPress)</h2>
            <div id="stats" class="text-sm space-y-2">
                <p>البطاقات المتاحة: <span id="avail" class="text-green-400 font-bold">0</span></p>
                <p>البطاقات المباعة: <span id="sold" class="text-red-400 font-bold">0</span></p>
            </div>
        </div>
    </div>

    <script>
        // كود الربط: هذا الجزء يراقب طلبات ووردبريس
        // بمجرد حدوث "طلب جديد" في ووردبريس، يتم تفعيل هذه الدالة
        async function handleNewOrder(orderData) {
            console.log("وصل طلب جديد من ووردبريس لمنتج:", orderData.product_id);
            // 1. البحث عن بطاقة متاحة في ملف JSON
            // 2. إرسال الكود لإيميل الزبون تلقائياً
            // 3. تحديث حالة البطاقة إلى "sold"
        }
    </script>
</body>
</html>
